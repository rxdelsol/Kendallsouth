import React from 'react'
export default function FileManager(){ return (<div style={{display:'flex',gap:8,justifyContent:'flex-end',marginBottom:12}}><button onClick={()=>{ const data={doctorsList: JSON.parse(localStorage.getItem('doctorsList')||'[]'), insuranceList: JSON.parse(localStorage.getItem('insuranceList')||'[]')}; const blob=new Blob([JSON.stringify(data,null,2)],{type:'application/json'}); const url=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='base.json'; a.click(); URL.revokeObjectURL(url); }}>Download Database</button><label style={{background:'#0b6',padding:'6px 8px',borderRadius:6,cursor:'pointer'}}><input type='file' style={{display:'none'}} onChange={(e)=>{ const f=e.target.files[0]; if(!f) return; const r=new FileReader(); r.onload=()=>{ try{ const obj=JSON.parse(r.result); if(obj.doctorsList) localStorage.setItem('doctorsList', JSON.stringify(obj.doctorsList)); if(obj.insuranceList) localStorage.setItem('insuranceList', JSON.stringify(obj.insuranceList)); alert('Imported'); window.location.reload(); }catch(err){ alert('Invalid file') } }; r.readAsText(f); }} />Upload Database</label></div>)}
